<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="cassette.css">
</head>

<body>
    <div class="wrapper">

        <div class="cassette" id="cassette">
            <div class="tape_wrapper">
                <svg class="tape" width="422" height="215" viewBox="0 0 422 215" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M77.5 214C77.5 187 96.2 133.1 51 107.5C-5.5 75.5 -11 19 39.5 19C90 19 92.5 78.5 128 102C163.5 125.5 253.5 35 275.5 19C297.5 3 365.5 -12.5 401 50C436.5 112.5 406.5 130 376 131C345.5 132 306 142.5 301 161.5C296 180.5 336.005 180.25 369 183C393 185 393 214 393 214"
                        stroke="black" stroke-width="9" />
                </svg>
            </div>
            <div class="cassette_moving">
                <div class="cassette_moving_tape left"></div>
                <div class="cassette_moving_tape right"></div>
            </div>
            <div class="cassette_moving">
                <div class="cassette_moving_hole"></div>
                <div class="cassette_moving_hole"></div>
            </div>
            <div class="cassette_moving">
                <img src="cassette_el.png" alt="cassette_moving_el" class="cassette_moving_el">
                <img src="cassette_el.png" alt="cassette_moving_el" class="cassette_moving_el">
            </div>
            <img src="cassette.png" alt="cassette" class="cassette_static">
        </div>
    </div>

    <script>
        const tape = document.querySelector('.tape');
        const cassette = document.querySelector('.cassette');
        let brokeTapeTimeout;

        const brokeTape = () => {
            tape.style.strokeDashoffset = '0%';
            clearInterval(brokeTapeTimeout);
            brokeTapeTimeout = setTimeout(() => {
                tape.style.strokeDashoffset = '302%';
            }, 3000);
        }
        cassette.addEventListener('click', brokeTape);
    </script>
</body>

</html>